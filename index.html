<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>オプション戦略一覧 & クイズ</title>
  <style>
    body { font-family: sans-serif; background: #f9f9f9; margin: 0; padding: 1em; color: #2c3e50; }
    h1, h2 { margin-left: 0.5em; }
    h1 { font-size: 2em; margin-bottom: 0.5em; color: #2c3e50; }
    h2 { font-size: 1.5em; margin-top: 1.5em; margin-bottom: 0.5em; color: #34495e; }
    .card-container { display: flex; flex-wrap: wrap; justify-content: flex-start; gap: 1.5em; padding: 0 0.5em; }
    .card { background: #fff; border: 1px solid #ddd; border-radius: 12px; padding: 1.2em; width: calc(33% - 1em); box-shadow: 0 4px 8px rgba(0,0,0,0.05); box-sizing: border-box; transition: transform .2s; }
    .card:hover { transform: translateY(-4px); box-shadow: 0 8px 16px rgba(0,0,0,0.1); }
    .card strong.title { display: block; font-size: 1.2em; color: #2c3e50; margin-bottom: .5em; }
    .card-content p { margin: .6em 0; line-height: 1.4; }
    .card-content ul { margin: .6em 1em; padding-left:1em; list-style-type: disc; }
    .chatgpt-hint { margin-top:.8em; font-size:.9em; background:#eef6ff; padding:.6em; border-left:4px solid #2980b9; }
    .chatgpt-hint a { color:#2980b9; text-decoration:none; }
    @media (max-width:900px){ .card{ width:calc(50% - 1em);} }
    @media (max-width:600px){ .card{ width:100%; } }
    /* クイズ用スタイル */
    #quiz-section { background:#fff; border:1px solid #ccc; border-radius:8px; padding:1em; margin-bottom:1.5em; }
    #quiz-container { max-width:600px; margin:0 auto; }
    .quiz-question { font-size:1.1em; margin-bottom:1em; }
    .quiz-options button { display:block; width:100%; margin:0.5em 0; padding:0.8em; border:none; border-radius:6px; background:#2980b9; color:#fff; cursor:pointer; }
    .quiz-options button:hover { background:#1c567b; }
    .quiz-feedback { margin-top:1em; font-size:1em; }
    #quiz-score { margin-top:1em; font-weight:bold; }
  </style>
</head>
<body>
  <!-- クイズセクション -->
  <section id="quiz-section">
    <div id="quiz-container">
      <h1>オプション戦略クイズ</h1>
      <div id="quiz-content">
        <button id="start-btn">クイズを始める</button>
      </div>
      <div id="quiz-score"></div>
    </div>
  </section>

  <!-- 戦略一覧 -->
  <h1>📘 オプション戦略一覧（カテゴリ別）</h1>

  <!-- 単純な戦略 -->
  <h2>🔹 単純な戦略</h2>
  <div class="card-container">
    <!-- Covered Call -->
    <div class="card">
      <strong class="title">Covered Call（カバード・コール）</strong>
      <div class="card-content">
        <p>株式を保有したままコールオプションを売却し、プレミアムを獲得する戦略。株価が横ばい～小幅上昇局面で収益を狙います。</p>
        <p><strong>仕組み：</strong>100株保有＋ストライクXのコール売却。満期で株価≤Xならプレミアム獲得、株価>Xなら株売却＋キャピタルゲイン。</p>
        <p><strong>例：</strong>株価95ドル、ストライク100ドル、プレミアム2ドルで1ヶ月満期。100ドル未満なら200ドルの利益。</p>
        <ul>
          <li><strong>メリット：</strong>下落リスクをプレミアムで一部ヘッジ</li>
          <li><strong>デメリット：</strong>大幅上昇時の利益が限定</li>
        </ul>
        <p><strong>活用場面：</strong>配当株＋追加収入、定期ロール。</p>
      </div>
      <div class="chatgpt-hint">💡 <a href="https://chat.openai.com/?q=Covered%20Callとは？リスクや利益も教えて" target="_blank">ChatGPTで解説を見る</a></div>
    </div>

    <!-- Put Sell -->
    <div class="card">
      <strong class="title">Put Sell（プット・セル）</strong>
      <div class="card-content">
        <p>希望価格で株を取得する前提でプットを売却し、プレミアムを得る戦略。下落時にも利益を確保。</p>
        <p><strong>仕組み：</strong>ストライクYのプット売却。満期で株価≤YならYで株取得＋プレミアム、株価>Yならプレミアム全額。</p>
        <p><strong>例：</strong>90ドルでプット売却＋プレミアム1.5ドル。株価75ドルで行使→実質コスト88.5ドル。</p>
        <ul>
          <li><strong>メリット：</strong>希望価格で株取得＋プレミアム</li>
          <li><strong>デメリット：</strong>必要資金確保</li>
        </ul>
        <p><strong>活用場面：</strong>キャッシュセキュアードプット。</p>
      </div>
      <div class="chatgpt-hint">💡 <a href="https://chat.openai.com/?q=Put%20Sellとは？リスクや利益も教えて" target="_blank">ChatGPTで解説を見る</a></div>
    </div>

    <!-- Protective Put -->
    <div class="card">
      <strong class="title">Protective Put（プロテクティブ・プット）</strong>
      <div class="card-content">
        <p>株式保有の下落リスクをプット購入で限定。急落時の損失をコントロール。</p>
        <p><strong>仕組み：</strong>100株＋行使Zのプット買い。満期で株価≤ZならZで売却し損失限定。</p>
        <p><strong>例：</strong>株価100ドルでZ=95、プレミアム3ドル。最大損失は（100-95+3）=8ドル。</p>
        <ul>
          <li><strong>メリット：</strong>損失を明確に限定</li>
          <li><strong>デメリット：</strong>プレミアムコスト</li>
        </ul>
        <p><strong>活用場面：</strong>決算前のヘッジ。</p>
      </div>
      <div class="chatgpt-hint">💡 <a href="https://chat.openai.com/?q=Protective%20Putとは？リスクや利益も教えて" target="_blank">ChatGPTで解説を見る</a></div>
    </div>
  </div>

  <!-- スプレッド戦略 -->
  <h2>🔹 スプレッド戦略</h2>
  <div class="card-container">
    <!-- Call Spread -->
    <div class="card">
      <strong class="title">Call Spread（コール・スプレッド）</strong>
      <div class="card-content">
        <p>行使価格Aのコール買い＋Bのコール売りでリスク・リターンを制限。</p>
        <p><strong>例：</strong>100買い+110売り。110ドル以上で利益上限=(110-100)-コスト。</p>
        <ul>
          <li><strong>メリット：</strong>損失がコストに限定</li>
          <li><strong>デメリット：</strong>利益が限定</li>
        </ul>
      </div>
      <div class="chatgpt-hint">💡 <a href="https://chat.openai.com/?q=Call%20Spreadとは？リスクや利益も教えて" target="_blank">ChatGPTで解説を見る</a></div>
    </div>

    <!-- Put Spread -->
    <div class="card">
      <strong class="title">Put Spread（プット・スプレッド）</strong>
      <div class="card-content">
        <p>行使価格Cのプット買い＋Dのプット売りで損失を限定。</p>
        <p><strong>例：</strong>100買い+90売り。90ドル以下で利益上限=(100-90)-コスト。</p>
        <ul>
          <li><strong>メリット：</strong>損失限定</li>
          <li><strong>デメリット：</strong>リターン限定</li>
        </ul>
      </div>
      <div class="chatgpt-hint">💡 <a href="https://chat.openai.com/?q=Put%20Spreadとは？リスクや利益も教えて" target="_blank">ChatGPTで解説を見る</a></div>
    </div>

    <!-- Iron Condor -->
    <div class="card">
      <strong class="title">Iron Condor（アイアン・コンドル）</strong>
      <div class="card-content">
        <p>OTMプットスプレッド＋OTMコールスプレッドでレンジ相場を狙う。</p>
        <p><strong>例：</strong>80/85プット＋115/120コール。85〜115レンジで最大利益。</p>
        <ul>
          <li><strong>メリット：</strong>中立相場で収益</li>
          <li><strong>デメリット：</strong>レンジ外で損失</li>
        </ul>
      </div>
      <div class="chatgpt-hint">💡 <a href="https://chat.openai.com/?q=Iron%20Condorとは？リスクや利益も教えて" target="_blank">ChatGPTで解説を見る</a></div>
    </div>
  </div>

  <!-- ボラティリティ戦略 -->
  <h2>🔹 ボラティリティを活かす戦略</h2>
  <div class="card-container">
    <!-- Long Straddle -->
    <div class="card">
      <strong class="title">Long Straddle（ロング・ストラドル）</strong>
      <div class="card-content">
        <p>同一ストライクのコール＋プット購入で大変動を狙う。</p>
        <p><strong>例：</strong>100ドル両建。105以上or95以下で利益。</p>
        <ul>
          <li><strong>メリット：</strong>方向不問で利益</li>
          <li><strong>デメリット：</strong>停滞は全損</li>
        </ul>
      </div>
      <div class="chatgpt-hint">💡 <a href="https://chat.openai.com/?q=Long%20Straddleとは？リスクや利益も教えて" target="_blank">ChatGPTで解説を見る</a></div>
    </div>

    <!-- Long Strangle -->
    <div class="card">
      <strong class="title">Long Strangle（ロング・ストラングル）</strong>
      <div class="card-content">
        <p>OTMのコール＋プット購入でコスト抑制し大変動狙い。</p>
        <p><strong>例：</strong>95プット＋105コール。価格95以下or105以上で利益。</p>
        <ul>
          <li><strong>メリット：</strong>Straddleより安価</li>
          <li><strong>デメリット：</strong>大変動必須</li>
        </ul>
      </div>
      <div class="chatgpt-hint">💡 <a href="https://chat.openai.com/?q=Strangleとは？リスクや利益も教えて" target="_blank">ChatGPTで解説を見る</a></div>
    </div>

    <!-- Calendar Spread -->
    <div class="card">
      <strong class="title">Calendar Spread（カレンダー・スプレッド）</strong>
      <div class="card-content">
        <p>短期売り＋長期買いで時間価値差を活用。</p>
        <p><strong>例：</strong>6月売り＋9月買い。シータ差で利益。</p>
        <ul>
          <li><strong>メリット：</strong>時間価値差収益</li>
          <li><strong>デメリット：</strong>急騰で限定的</li>
        </ul>
      </div>
      <div class="chatgpt-hint">💡 <a href="https://chat.openai.com/?q=Calendar%20Spreadとは？リスクや利益も教えて" target="_blank">ChatGPTで解説を見る</a></div>
    </div>
  </div>

  <!-- 上昇/下落戦略 -->
  <h2>🔹 上昇/下落を狙う戦略</h2>
  <div class="card-container">
    <!-- Bull Call Spread -->
    <div class="card">
      <strong class="title">Bull Call Spread（ブル・コール・スプレッド）</strong>
      <div class="card-content">
        <p>安いコール買い＋高いコール売りでリスク管理付き強気。</p>
        <p><strong>例：</strong>95買い＋105売り。105以上で(105-95)-コスト利益。</p>
        <ul>
          <li><strong>メリット：</strong>損失限定</li>
          <li><strong>デメリット：</strong>利益限定</li>
        </ul>
      </div>
      <div class="chatgpt-hint">💡 <a href="https://chat.openai.com/?q=Bull%20Call%20Spreadとは？リスクや利益も教えて" target="_blank">ChatGPTで解説を見る</a></div>
    </div>

    <!-- Bear Put Spread -->
    <div class="card">
      <strong class="title">Bear Put Spread（ベア・プット・スプレッド）</strong>
      <div class="card-content">
        <p>高いプット買い＋低いプット売りで下落リスク限定。</p>
        <p><strong>例：</strong>110買い＋100売り。100以下で(110-100)-コスト利益。</p>
        <ul>
          <li><strong>メリット：</strong>損失限定</li>
          <li><strong>デメリット：</strong>利益限定</li>
        </ul>
      </div>
      <div class="chatgpt-hint">💡 <a href="https://chat.openai.com/?q=Bear%20Put%20Spreadとは？リスクや利益も教えて" target="_blank">ChatGPTで解説を見る</a></div>
    </div>

    <!-- Synthetic Long -->
    <div class="card">
      <strong class="title">Synthetic Long（シンセティック・ロング）</strong>
      <div class="card-content">
        <p>コール買い＋プット売りで株と同等のポジション。</p>
        <p><strong>例：</strong>50ドルのコール買い＋プット売りでデルタ1。</p>
        <ul>
          <li><strong>メリット：</strong>レバ効率
          <li><strong>デメリット：</strong>資金拘束リスク</li>
        </ul>
      </div>
      <div class="chatgpt-hint">💡 <a href="https://chat.openai.com/?q=Synthetic%20Longとは？リスクや利益も教えて" target="_blank">ChatGPTで解説を見る</a></div>
    </div>
  </div>

  <!-- アービトラージ戦略 -->
  <h2>🔹 アービトラージ戦略</h2>
  <div class="card-container">
    <!-- Box Spread -->
    <div class="card">
      <strong class="title">Box Spread（ボックス・スプレッド）</strong>
      <div class="card-content">
        <p>Bull Call + Bear Putで金利差裁定。</p>
        <p><strong>例：</strong>40/45コール+45/40プットスプレッド。</p>
        <ul>
          <li><strong>メリット：</strong>リスクフリーに近い</li>
          <li><strong>デメリット：</strong>手数料・規制</li>
        </ul>
      </div>
      <div class="chatgpt-hint">💡 <a href="https://chat.openai.com/?q=Box%20Spreadとは？リスクや利益も教えて" target="_blank">ChatGPTで解説を見る</a></div>
    </div>

    <!-- Conversion/Reversal -->
    <div class="card">
      <strong class="title">Conversion/Reversal（コンバージョン/リバーサル）</strong>
      <div class="card-content">
        <p>株＋オプション組合せで裁定。Conversionは買い+コール売+プット買い、Reversalは空売+コール買+プット売。</p>
        <ul>
          <li><strong>メリット：</strong>価格乖離裁定
          <li><strong>デメリット：</strong>資金・手数料</li>
        </ul>
      </div>
      <div class="chatgpt-hint">😎 <a href="https://chat.openai.com/?q=Conversion%20Reversalとは？違いも教えて" target="_blank">ChatGPTで解説を見る</a></div>
    </div>

    <!-- Dividend Arbitrage -->
    <div class="card">
      <strong class="title">Dividend Arbitrage（配当裁定）</strong>
      <div class="card-content">
        <p>権利落ち前株取得＋コール売りで配当差益狙い。</p>
        <ul>
          <li><strong>メリット：</strong>無リスク配当分利益
          <li><strong>デメリット：</strong>ボラティリティリスク</li>
        </ul>
      </div>
      <div class="chatgpt-hint">💡 <a href="https://chat.openai.com/?q=Dividend%20Arbitrageとは？配当とオプションの関係も教えて" target="_blank">ChatGPTで解説を見る</a></div>
    </div>
  </div>

  <!-- クイズ用スクリプト -->
  <script>
    let questions = [];
    let current = 0;
    let score = 0;
    const container = document.getElementById('quiz-content');
    const scoreEl = document.getElementById('quiz-score');

    document.getElementById('start-btn').addEventListener('click', () => {
      fetch('questions.json')
        .then(res => res.json())
        .then(data => {
          questions = data.sort(() => Math.random() - 0.5);
          current = 0;
          score = 0;
          scoreEl.textContent = '';
          showQuestion();
        });
    });

    function showQuestion() {
      const q = questions[current];
      container.innerHTML = `
        <div class="quiz-question">Q${current+1}: ${q.question}</div>
        <div class="quiz-options">
          ${q.options.map((opt,i) => `<button data-index="${i}">${opt}</button>`).join('')}
        </div>
        <div class="quiz-feedback"></div>
      `;
      container.querySelectorAll('button').forEach(btn => {
        btn.addEventListener('click', () => selectAnswer(btn));
      });
    }

    function selectAnswer(btn) {
      const idx = +btn.getAttribute('data-index');
      const q = questions[current];
      const feedback = container.querySelector('.quiz-feedback');
      if (idx === q.answer) {
        score++;
        feedback.textContent = '正解！ ' + q.explanation;
      } else {
        feedback.textContent = '不正解。 ' + q.explanation;
      }
      current++;
      if (current < questions.length) {
        setTimeout(showQuestion, 2000);
      } else {
        setTimeout(showResult, 2000);
      }
    }

    function showResult() {
      container.innerHTML = `<div class="quiz-question">クイズ終了！あなたのスコアは ${score}/${questions.length} です。</div>`;
      scoreEl.textContent = '';
    }
  </script>
</body>
</html>
